<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <link rel="icon" type="image/x-icon" href="/static/image/favicon.png">

    <title>Mortgage Calculator</title>

    <link rel="stylesheet" href="/static/pyscript/pyscript.css"/>
    <script defer src="/static/pyscript/pyscript.js"></script>
    <py-config>
        - autoclose_loader: true
        - runtimes:
            - src: "/static/pyodide/pyodide.js"
              name: pyodide-0.21
              lang: python
    </py-config>
    <py-env>
        - paths:
            - /static/pyscript/pyscript.py
            - /static/python/mortgage.py
    </py-env>
    <link rel="stylesheet" href="/static/css/mortgage.css"/>
  </head>

  <body id="the_body">
    <main>
        <py-title>Mortgage Calculator</py-title>
        <div class="input-box">
            <div class="input-field">
                <input type="text" id="principal" name="principal">
                <label for="principal">Loan Amount</label>
            </div>
            <div class="input-field">
                <input type="text" id="rate" name="rate">
                <label for="rate">Interest Rate (e.g., 4.5)</label>
            </div>
            <div class="input-field">
                <input type="text" id="months" name="months">
                <label for="months">Loan Term (months)</label>
            </div>
            <div class="calculate-button-div">
                <button id="calculate-btn">Calculate Payment</button>
            </div>
        </div>
        <div class="output-box">
            <div id="payment-display-div">
                <b>Payment: </b><span id="payment-amount"></span>
            </div>
            <div id="amortization-schedule-div"></div>
        </div>
        <py-script>
            import pyodide
            from mortgage import calculate_btn_click_handler
            calc_btn_element = document.getElementById('calculate-btn')
            calc_btn_element.addEventListener('click', pyodide.ffi.create_proxy(calculate_btn_click_handler))
        </py-script>
</main>

    <footer>
        <div class="footer-content">
        </div>
    </footer>

  </body>
</html>
